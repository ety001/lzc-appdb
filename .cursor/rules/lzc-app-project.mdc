---
description: 懒猫应用项目开发规范和工作流程
alwaysApply: true
---

# 懒猫应用项目规则

## 项目概述
这个项目用于存储懒猫应用的开发和移植项目。

## 目录结构要求

### 文档目录
- 开发文档和移植文档位于 `.docs` 目录下
- `.docs` 目录不提交到 git（已在 `.gitignore` 中排除）

### 应用目录结构
- 项目根目录下的每个子目录代表一个应用
- 每个应用目录应遵循开发文档中定义的主要文件结构

#### 必需文件
- `lzc-manifest.yml` - 应用清单文件，定义应用的基本信息、配置等
- `lzc-icon.png` - 应用图标
- `lzc-build.yml` - 构建配置文件

#### 可选文件
- `build.sh` - 构建脚本（如果需要在构建时执行自定义脚本）

## 工作规范

1. **新增应用**：在项目根目录下创建新的应用目录，并按照上述文件结构创建必需文件
2. **修改应用**：在对应的应用目录下进行修改，遵循现有的文件结构
3. **文档参考**：开发或移植时参考 `.docs` 目录下的开发文档
4. **Docker 镜像同步**：
   - 创建新应用时，必须询问用户是否需要同步 Docker 镜像
   - 如果用户提供了 Docker 镜像名称（如 `gogs/gogs`），则执行 `lzc-cli appstore copy-image <镜像名>`
   - 执行完成后，将返回的镜像名（以 `registry.lazycat.cloud` 开头）更新到 `lzc-manifest.yml` 文件中
   - 镜像配置位置在 `services` 部分的 `image` 字段中，更新前需要向用户确认具体更新位置
   - 如果应用有多个服务，需要确认每个服务对应的镜像更新位置
5. **Git 管理**：
   - `.cursor` 目录需要提交到 git
   - `.docs` 目录不提交到 git
   - `*.lpk` 文件不提交到 git（已在 `.gitignore` 中排除）

## 注意事项

- 确保每个应用目录都包含必需的文件（lzc-manifest.yml, lzc-icon.png, lzc-build.yml）
- 遵循 `.docs` 目录下文档中定义的标准和规范
- 保持应用目录结构的统一性
